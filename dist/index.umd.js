(function(c,r){typeof exports=="object"&&typeof module<"u"?r(exports):typeof define=="function"&&define.amd?define(["exports"],r):(c=typeof globalThis<"u"?globalThis:c||self,r(c["svelte-domain"]={}))})(this,function(c){"use strict";function r(){}function d(n,s=r){let e;const f=new Set;function u(t,i){return t!=t?i==i:t!==i||t&&typeof t=="object"||typeof t=="function"}function o(t){if(u(n.state,t)&&(n.state=t,e)){for(const i of f)i[1]();for(const i of f)i[0]({state:t})}}function a(t,i=r){const b=[t,i];return f.add(b),f.size===1&&(e=s(o)||r),t({state:n.state}),()=>{f.delete(b),f.size===0&&(e==null||e(),e=null)}}return Object.assign(n,{set:o},{subscribe:a})}function l(n){let s={};return Object.keys(n).forEach(e=>{s[e]={state:n[e].state,...n[e].reducers,...n[e].effects}}),Object.keys(s).forEach(e=>{s[e]=d(s[e])}),Object.keys(n).forEach(e=>{let f=n[e].reducers;f!==void 0&&Object.keys(f).forEach(o=>{s[e][o]=function(a){if(f!=null){const t=f[o](s[e].state,a);return s[e].set(t),t}return s[e].state}});let u=n[e].effects;u!==void 0&&Object.keys(u).forEach(o=>{s[e][o]=function(a){if(u!=null)return u[o](s,a)}})}),s}const j=()=>n=>n;c.createModel=j,c.createStore=l,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
